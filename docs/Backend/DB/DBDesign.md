# DB Design

- [4ステップで作成する、DB論理設計の手順とチェックポイントまとめ - Qiita](https://qiita.com/nishina555/items/a79ece1b54faf7240fac)
- [DB論理設計のノウハウ - Qiita](https://qiita.com/kiyodori/items/5083ad8bbfc232d01827)

## 1: エンティティの抽出

- [ ] 洗い出したエンティティは開発するシステムの要件を満たせるか

## 2: エンティティの定義

- [ ] テーブル名は英語ならば複数形/複数名詞で書けるか
- [ ] テーブル名は同じドメイン（スキーマ）の範囲で重複していないか
- [ ] 日本語を使っていないか
- [ ] 最初はアルファベットになっているか
- [ ] 複数のテーブルをまとめていないか
- [ ] 列名にハイフンを使っていないか
- [ ] 日本語を使っていないか
- [ ] 最初はアルファベットになっているか
- [ ] すべてのテーブルにidという名前を安易につかっていないか
- [ ] NOT NULL制約はなるべくつけているか
- [ ] 列の意味は統一されているか
- [ ] 値の変わる列を主キーや外部キーに利用していないか
- [ ] キーとなる列にはコードやIDなど表記体系の定まった固定長文字列を利用しているか
- [ ] 主キーは定義したか
- [ ] 主キーはNULLを含んではいないか
- [ ] 主キーにidという名前を利用していないか
- [ ] 主キーは重複してしまう可能性はないか
- [ ] 子に対して複数の親が存在していないか
- [ ] 参照整合性制約をつけているか

## 3: 正規化

- [ ] ひとつのセルに値は1つだけか
- [ ] カンマ区切りのフォーマットで格納していないか（1つのカラムに要素を詰め込んでしまうケース）
- [ ] 主キーの一部だけしか利用していないのに一意に定まる列が存在していないか
- [ ] 主キー以外の列同士で従属する列は存在していないか

## 4: ER図の作成

- [ ] あるテーブルの主キーが他のテーブルに列として存在している場合、それらのテーブルは関連性が作成されているか（線で結ばれているか）
- [ ] 1:1という関係のテーブルが存在しないか
- [ ] 多：多という関係のテーブルが存在しないか
- [ ] **子に対して親が複数存在**していないか
  - 同じカラムから参照すべき親テーブルが複数ある状態
