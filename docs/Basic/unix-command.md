# Unix Command

## 基本

### ファイル・ディレクトリの一覧： **ls**

`ls [オプション] [ファイル]`

-   `-a` 隠しファイルもすべて表示
-   `-l` Long 形式で表示
-   `-t` 更新時間順にソートして表示
-   `-r` 逆順にソートして表示

### ファイルのコピー： **cp**

`cp [オプション] コピー元 コピー先`

-   `-i` 処理を実行していいか確認する
-   `-r` ディレクトリをコピー
-   `-p` 元ファイルの情報を保ったままコピー

### ファイルの移動： **mv**

`mv 移動元ファイル 移動先ファイル`

-   `-i` 処理を実行していいか確認する
-   `-f` 強制的に処理を実行する

### ファイルの削除： **rm**

`rm ファイル名`

-   `-i` 処理を実行していいか確認する
-   `-r` ディレクトリを削除
-   `-f` 強制的に処理を実行する

### 現在のディレクトリの表示： **pwd**

`pwd`

### ディレクトリの変更： **cd**

`cd [ディレクトリ名]`

### ディレクトリの作成：

`mkdir ディレクトリ名`

-   `-p` 上位層も一緒に作成

### ディレクトリの削除： **rmdir**

`rmdir ディレクトリ名`

-   `-p` 上位層も一緒に削除
-   ディレクトリ内が空の時だけ削除可能

### ファイル内容表示： **cat**

`cat ファイル名`

-   `-n` 行番号を付加

-   **ファイル内容表示**：`more ファイル名`
-   **ファイル内容表示**：`less ファイル名`
-   **ファイルの検索**：`find パス -name ファイル名`
-   **コマンドのパスを表示**：`which コマンド名`
-   **ヘルプ**：`コマンド --help`
-   **マニュアル**：`man コマンド名`
    -   `-k 単語` 単語が含まれるエントリ一覧を表示
-   **ファイルのタイムスタンプの変更**：`touch [オプション] ファイル名`

    -   ファイルが存在しない場合、空のファイルを作成。
    -   `-t` ファイルの更新時刻を指定（[[CC]YY]MMDDhhmm[.SS]）

-   **ファイルの一部の取得**

    ```bash
    head [オプション] ファイル名 // 先頭
    tail [オプション] ファイル名 // 末尾
    ```

    -   `-n 列` 先頭/末尾から指定した行を標準出力
    -   `-c バイト` 先頭/末尾から指定したバイトを標準出力
    -   `-f` リアルタイムに更新

-   **テキストファイルのソート**：`sort [オプション] ファイル名`

    -   `-r` 逆順でソート
    -   `-k n` n 列目のデータをソート
    -   `-n` 数値としてソート

-   **行の重複の消去**：`uniq ファイル名`

    -   直前の行と重複があった場合、対象行を出力しない。

-   **文字列の置き換え**：`tr 文字列1 文字列2`

-   **ファイルの比較**：`diff [オプション] ファイル1 ファイル2`

    -   `-c` context diff 形式で差分を出力
    -   `-u` unified diff 形式で差分を出力

## 正規表現とパイプ

### リダイレクト

```bash
ls > ls-output // lsの標準出力が書き込まれたls-outputが作成
cat > cat-ouput // 標準出力を実行時点で記述できる
```

-   `>`は上書き。`>>`は追記。

### データを検索する： **grep**

`grep [オプション] 検索条件 [指定ファイル]`

-   `-e` 文字列を検索パターンとして扱う。
-   `-i` 大文字と小文字の区別を行わない。
-   `-v` 検索パターンとマッチしなかった行を選択。

#### ユーザー

ユーザの定義は`etc/passwd`ファイルに記述される。

-   **ユーザーの作成**：`useradd ユーザー名`

    -   `-c コメント`
    -   `-g グループ名`
    -   `-G グループ名`
    -   `-d ディレクトリ`
    -   `-s シェル`
    -   `-u ユーザーID`

-   **ユーザーアカウントの変更**：`usermod ユーザー名`

    -   `-c コメント`
    -   `-g グループ名`
    -   `-G グループ名`
    -   `-l ユーザー名`
    -   `-u ユーザーID`

-   **ユーザーアカウントの削除**：`userdel ユーザー名`
    -   `-r` ホームディレクトリも削除

#### グループ

-   **グループの作成**：`groupadd [グループ名]`

    -   `-g グループID`

-   **グループの登録情報の変更**：`groupmod [-g gid] [-n new-group-name] 変更対象のグループ`

    -   `-n` 既存のグループ名を変更
    -   `-g` 既存のグループ ID を変更

-   **グループの削除**：`groupdel グループ名`

#### パスワード

## ユーザ権限とアクセス権

## ネットワークの設定と管理

### 通信の確認

```bash
ping ターゲット
```

### 通信経路の確認

```bash
traceroute ターゲット
tracepath ターゲット
```

### IP アドレスの確認

```bash
ip a [インターフェース]
nmcli [インターフェース]
nmtui
```

### ルーティング

```bash
ip route [オプション]
ss [オプション]
```

-   `-V` バージョン情報
-   `-a` すべてのソケットを表示
-   `-n` サービス名に変換せず表示
-   `-r` ホスト名を名前解決
-   `-p` ソケットを使用しているプロセス ID を表示
-   `-s` 集約したソケット情報
-   `-4` IPv4 のソケットのみ表示。他のオプションと併用
-   `-6` IPv6 のソケットのみ表示。他のオプションと併用
-   `-t` TCP のソケットのみ表示
-   `-u` UDP のソケットのみ表示
-   `-e` 詳細なソケット情報を表示

## プロセス管理

## ファイル管理

## References

-   [Linux 標準教科書](https://linuc.org/textbooks/linux/)
